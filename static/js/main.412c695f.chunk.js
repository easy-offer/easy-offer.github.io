(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{79:function(e,t,a){e.exports=a(98)},84:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(63),s=a.n(c),o=a(118),i=a(120),l=a(116),u=(a(84),a(85),a(64)),p={DEVELOPMENT:{},MOCK:{},STAGING:{},PRODUCTION:{api:{host:"3.0.184.8",port:"80"}}},h="production".toUpperCase()||"DEVELOPMENT",m=p[h];if(!m)throw new Error("NODE_ENV: ".concat(h," is undefined."));var d,v=u.merge({api:{host:"3.0.184.8",port:"80"},app:{port:4e3}},m),k=a(109),E=a(110),f=a(111),g=a(6),b=a(12),w=a(35),y=a(119),O=a(122),N=a(15),j=a(16),C=a(31),_=a(32),q=a(121),M=a(117),x=(a(87),a(26)),L=a(10),R=a.n(L),S=(a(88),function(e){Object(C.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).emptyMap=void 0,n.CheckBox=function(e){var t=R()({checked:e.checked,answered:n.props.answered,correct:e.option.correct});return r.a.createElement("label",{className:"checkbox "+t},r.a.createElement("input",{type:"checkbox",className:"cb_input",onChange:n.onChange.bind(Object(x.a)(n)),value:e.option.key}),r.a.createElement("div",{className:"cb_indicator"},(!n.props.reset&&!n.props.answered&&e.checked||n.props.answered&&e.option.correct)&&r.a.createElement("svg",{viewBox:"0 0 11 8",width:"9",height:"7",className:"checkmark "+t},r.a.createElement("title",null,"checkmark"),r.a.createElement("path",{d:"M9.6,0L11,1.3L3.9,8L0,4.3L1.4,3l2.6,2.4L9.6,0z"})),n.props.answered&&!e.option.correct&&r.a.createElement("svg",{viewBox:"0 0 10 10",width:"8",height:"8",className:"exmark "+t},r.a.createElement("title",null,"exmark"),r.a.createElement("path",{d:"M5,4.17,9.17,0,10,.83,5.83,5,10,9.17,9.17,10,5,5.83.83,10,0,9.17,4.17,5,0,.83.83,0Z"}))),r.a.createElement("div",{className:"cb_label"}," ",e.option.value," "))},n.emptyMap=new Map,e.options.map(function(e){return n.emptyMap.set(e.key,!1)}),n.state={checked:new Map(n.emptyMap)},n}return Object(j.a)(a,[{key:"onChange",value:function(e){var t;this.props.reset?(console.log("reset map"),t=new Map(this.emptyMap)):t=new Map(this.state.checked);var a=!t.get(e.target.value);t.set(e.target.value,a),this.setState({checked:t}),this.props.onChange&&this.props.onChange({checked:a,value:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"checkbox_group"},this.props.options.map(function(t,a){return r.a.createElement(e.CheckBox,{key:a,option:t,checked:e.state.checked.get(t.key)||!1})}))}}]),a}(r.a.Component)),P=(a(89),function(e){Object(C.a)(a,e);var t=Object(_.a)(a);function a(e){var n;Object(N.a)(this,a),(n=t.call(this,e)).Radio=function(e){var t=R()({correct:e.option.correct,answered:n.props.answered,checked:e.checked});return r.a.createElement("label",{className:"radio "+t},r.a.createElement("input",{type:"radio",className:"radio_input",onClick:n.onClick.bind(Object(x.a)(n)),value:e.option.key}),r.a.createElement("div",{className:"radio_indicator"},(!n.props.reset&&!n.props.answered&&e.checked||n.props.answered&&e.option.correct)&&r.a.createElement("svg",{viewBox:"0 0 11 8",width:"9",height:"7",className:"checkmark "+t},r.a.createElement("title",null,"checkmark"),r.a.createElement("path",{d:"M9.6,0L11,1.3L3.9,8L0,4.3L1.4,3l2.6,2.4L9.6,0z"})),n.props.answered&&!e.option.correct&&r.a.createElement("svg",{viewBox:"0 0 10 10",width:"8",height:"8",className:"exmark "+t},r.a.createElement("title",null,"exmark"),r.a.createElement("path",{d:"M5,4.17,9.17,0,10,.83,5.83,5,10,9.17,9.17,10,5,5.83.83,10,0,9.17,4.17,5,0,.83.83,0Z"}))),r.a.createElement("div",{className:"radio_label"}," ",e.option.value))};var c=new Map;return e.options.map(function(e){return c.set(e.key,!1)}),n.state={checked:c},n}return Object(j.a)(a,[{key:"onClick",value:function(e){this.props.onChange&&this.props.onChange(e.target);var t=new Map;this.props.options.map(function(e){return t.set(e.key,!1)}),t.set(e.target.value,!0),this.setState({checked:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"radio_group"},this.props.options.map(function(t,a){return r.a.createElement(e.Radio,{key:a,option:t,checked:e.state.checked.get(t.key)||!1})}))}}]),a}(r.a.Component)),Q=function(e){Object(C.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).state={user_answer:"",correct:!1,reset:!0,answered:!1},n}return Object(j.a)(a,[{key:"check",value:function(e){var t="";t="MultiSelectQuestion"===this.props.q.__typename?(t=e.checked?this.state.user_answer+e.value:this.state.user_answer.replaceAll(e.value,"")).replaceAll(",","").split("").sort().join(","):e.value,this.setState({user_answer:t,correct:this.props.q.answer===t,reset:!1})}},{key:"submit",value:function(e){var t=this.state.answered;this.setState({answered:!t,reset:t,user_answer:""})}},{key:"render",value:function(){var e=R()({correct:this.state.correct,answered:this.state.answered});return r.a.createElement(q.a,{className:"question_card text-center m-3 p-3"},r.a.createElement(q.a.Title,{className:"title"},"Q: ",this.props.q.title),r.a.createElement(q.a.Body,null,"SelectQuestion"===this.props.q.__typename&&r.a.createElement(P,{options:this.props.q.options,reset:this.state.reset,answered:this.state.answered,onChange:this.check.bind(this)}),"MultiSelectQuestion"===this.props.q.__typename&&r.a.createElement(S,{options:this.props.q.options,reset:this.state.reset,answered:this.state.answered,onChange:this.check.bind(this)}),r.a.createElement("div",{className:"feedback "+e},this.state.correct?"CORRECT":"INCORRECT"),r.a.createElement(M.a,{className:"btn_submit "+e,variant:"outlined",onClick:this.submit.bind(this)},this.state.answered?"Take Again":"Submit")))}}]),a}(r.a.Component),T=Object(y.a)(d||(d=Object(w.a)(["\nquery TestQuery($limit: Float = 10, $offset: Float = 0) {\n  __typename\n  questions(limit: $limit, offset: $offset) {\n    ...on IQuestion{\n      title,\n      body,\n      answer\n    },\n    ...on SelectQuestion{\n      options {\n        key,\n        value,\n        correct\n      }\n    },\n    ...on MultiSelectQuestion {\n      options {\n        key,\n        value,\n        correct\n      }\n    }\n  }\n}    \n"]))),B=function(e){var t=Object(n.useState)({questions:[],loading:!0,page:0,end:!1}),a=Object(b.a)(t,2),c=a[0],s=a[1],o=Object(n.useRef)(null);Object(n.useEffect)(function(){console.log("Current Page:"+c.page),console.log("Total Questions:"+c.questions.length);var e=new IntersectionObserver(function(e){e.forEach(function(e){e.intersectionRatio>0&&!c.loading&&!c.end&&s(Object(g.a)(Object(g.a)({},c),{},{page:c.page+1,loading:!0}))})});o.current&&e.observe(o.current)});var i=Object(O.a)(T,{variables:{limit:5,offset:5*c.page},fetchPolicy:"no-cache"}),l=i.error,u=i.data;if(c.loading&&u&&s(Object(g.a)(Object(g.a)({},c),{},{questions:c.questions.concat(u.questions),loading:!1,end:u.questions.length<5})),l&&(console.log("ERROR"),console.log(l)),!c.questions||!c.questions.length)return r.a.createElement("div",null,"Loading");var p=[];c.questions.map(function(e,t){return t===c.questions.length-2&&p.push(r.a.createElement("div",{className:"dumb",ref:o,key:"dumb"})),p.push(r.a.createElement(Q,{q:e,key:t})),0});var h=r.a.createElement("div",null,"end of questions");return r.a.createElement("div",null,p,h)},I=(a(96),function(){return r.a.createElement("div",{className:"HomePage"},r.a.createElement(k.a,{fluid:!0},r.a.createElement(E.a,null,r.a.createElement(f.a,{style:{background:"grey",height:"100vh"},sm:3}),r.a.createElement(f.a,null,r.a.createElement(E.a,{className:"fixed_header",style:{background:"darkgrey",height:"10vh"}},r.a.createElement("div",null)),r.a.createElement(E.a,{className:"infinite_scroll main",style:{background:"#fff",height:"100vh"}},r.a.createElement(B,null))))))});a(97);var A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(I,null))},D=new o.a({uri:"http://".concat(v.api.host,":").concat(v.api.port,"/graphql"),cache:new i.a,defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}}});s.a.render(r.a.createElement(l.a,{client:D},r.a.createElement(A,null)),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.412c695f.chunk.js.map