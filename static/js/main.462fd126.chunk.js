(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{78:function(e,t,n){e.exports=n(96)},83:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a,c,r=n(0),s=n.n(r),o=n(64),i=n.n(o),l=n(116),u=n(118),p=n(114),h=(n(83),n(84),n(30)),m=n(107),d=n(108),v=n(109),k=n(117),f=n(120),g=n(12),b=n(6),y=n(15),E=n(16),w=n(32),O=n(33),j=n(119),q=n(115),_=(n(85),n(26)),C=n(10),N=n.n(C),M=(n(86),function(e){Object(w.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).emptyMap=void 0,a.CheckBox=function(e){var t=N()({checked:e.checked,answered:a.props.answered,correct:e.option.correct});return s.a.createElement("label",{className:"checkbox "+t},s.a.createElement("input",{type:"checkbox",className:"cb_input",onChange:a.onChange.bind(Object(_.a)(a)),value:e.option.key}),s.a.createElement("div",{className:"cb_indicator"},(!a.props.reset&&!a.props.answered&&e.checked||a.props.answered&&e.option.correct)&&s.a.createElement("svg",{viewBox:"0 0 11 8",width:"9",height:"7",className:"checkmark "+t},s.a.createElement("title",null,"checkmark"),s.a.createElement("path",{d:"M9.6,0L11,1.3L3.9,8L0,4.3L1.4,3l2.6,2.4L9.6,0z"})),a.props.answered&&!e.option.correct&&s.a.createElement("svg",{viewBox:"0 0 10 10",width:"8",height:"8",className:"exmark "+t},s.a.createElement("title",null,"exmark"),s.a.createElement("path",{d:"M5,4.17,9.17,0,10,.83,5.83,5,10,9.17,9.17,10,5,5.83.83,10,0,9.17,4.17,5,0,.83.83,0Z"}))),s.a.createElement("div",{className:"cb_label"}," ",e.option.value," "))},a.emptyMap=new Map,e.options.map(function(e){a.emptyMap.set(e.key,!1)}),a.state={checked:new Map(a.emptyMap)},a}return Object(E.a)(n,[{key:"onChange",value:function(e){var t;this.props.reset?(console.log("reset map"),t=new Map(this.emptyMap)):t=new Map(this.state.checked);var n=!t.get(e.target.value);t.set(e.target.value,n),this.setState({checked:t}),this.props.onChange&&this.props.onChange({checked:n,value:e.target.value})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"checkbox_group"},this.props.options.map(function(t,n){return s.a.createElement(e.CheckBox,{key:n,option:t,checked:e.state.checked.get(t.key)||!1})}))}}]),n}(s.a.Component)),x=(n(87),function(e){Object(w.a)(n,e);var t=Object(O.a)(n);function n(e){var a;Object(y.a)(this,n),(a=t.call(this,e)).Radio=function(e){var t=N()({correct:e.option.correct,answered:a.props.answered,checked:e.checked});return s.a.createElement("label",{className:"radio "+t},s.a.createElement("input",{type:"radio",className:"radio_input",onClick:a.onClick.bind(Object(_.a)(a)),value:e.option.key,key:e.key}),s.a.createElement("div",{className:"radio_indicator"},(!a.props.reset&&!a.props.answered&&e.checked||a.props.answered&&e.option.correct)&&s.a.createElement("svg",{viewBox:"0 0 11 8",width:"9",height:"7",className:"checkmark "+t},s.a.createElement("title",null,"checkmark"),s.a.createElement("path",{d:"M9.6,0L11,1.3L3.9,8L0,4.3L1.4,3l2.6,2.4L9.6,0z"})),a.props.answered&&!e.option.correct&&s.a.createElement("svg",{viewBox:"0 0 10 10",width:"8",height:"8",className:"exmark "+t},s.a.createElement("title",null,"exmark"),s.a.createElement("path",{d:"M5,4.17,9.17,0,10,.83,5.83,5,10,9.17,9.17,10,5,5.83.83,10,0,9.17,4.17,5,0,.83.83,0Z"}))),s.a.createElement("div",{className:"radio_label"}," ",e.option.value))};var c=new Map;return e.options.map(function(e){c.set(e.key,!1)}),a.state={checked:c},a}return Object(E.a)(n,[{key:"onClick",value:function(e){this.props.onChange&&this.props.onChange(e.target);var t=new Map;this.props.options.map(function(e){t.set(e.key,!1)}),t.set(e.target.value,!0),this.setState({checked:t})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"radio_group"},this.props.options.map(function(t,n){return s.a.createElement(e.Radio,{key:n,option:t,checked:e.state.checked.get(t.key)||!1})}))}}]),n}(s.a.Component)),Q=function(e){Object(w.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).state={user_answer:"",correct:!1,reset:!0,answered:!1},a}return Object(E.a)(n,[{key:"check",value:function(e){var t="";t="MultiSelectQuestion"===this.props.q.__typename?(t=e.checked?this.state.user_answer+e.value:this.state.user_answer.replaceAll(e.value,"")).replaceAll(",","").split("").sort().join(","):e.value,this.setState({user_answer:t,correct:this.props.q.answer===t,reset:!1})}},{key:"submit",value:function(e){var t=this.state.answered;this.setState({answered:!t,reset:t,user_answer:""})}},{key:"render",value:function(){var e=N()({correct:this.state.correct,answered:this.state.answered});return s.a.createElement(j.a,{className:"question_card text-center m-3 p-3"},s.a.createElement(j.a.Title,null,"Q: ",this.props.q.title),s.a.createElement(j.a.Body,null,"SelectQuestion"===this.props.q.__typename&&s.a.createElement(x,{options:this.props.q.options,reset:this.state.reset,answered:this.state.answered,onChange:this.check.bind(this)}),"MultiSelectQuestion"===this.props.q.__typename&&s.a.createElement(M,{options:this.props.q.options,reset:this.state.reset,answered:this.state.answered,onChange:this.check.bind(this)}),s.a.createElement("div",{className:"feedback "+e},this.state.correct?"CORRECT":"INCORRECT"),s.a.createElement(q.a,{className:"btn_submit "+e,variant:"outlined",onClick:this.submit.bind(this)},this.state.answered?"Take Again":"Submit")))}}]),n}(s.a.Component),S=Object(k.a)(a||(a=Object(h.a)(["\nquery TestQuery($limit: Float = 10, $offset: Float = 0) {\n  __typename\n  questions(limit: $limit, offset: $offset) {\n    ...on IQuestion{\n      title,\n      body,\n      answer\n    },\n    ...on SelectQuestion{\n      options {\n        key,\n        value,\n        correct\n      }\n    },\n    ...on MultiSelectQuestion {\n      options {\n        key,\n        value,\n        correct\n      }\n    }\n  }\n}    \n"]))),L=function(e){var t=Object(r.useState)({questions:[],loading:!0,page:0,end:!1}),n=Object(g.a)(t,2),a=n[0],c=n[1],o=Object(r.useRef)(null);Object(r.useEffect)(function(){console.log("Current Page:"+a.page),console.log("Total Questions:"+a.questions.length);var e=new IntersectionObserver(function(e){e.forEach(function(e){e.intersectionRatio>0&&!a.loading&&!a.end&&c(Object(b.a)(Object(b.a)({},a),{},{page:a.page+1,loading:!0}))})});o.current&&e.observe(o.current)});var i=Object(f.a)(S,{variables:{limit:5,offset:5*a.page},fetchPolicy:"no-cache"}),l=i.error,u=i.data;if(a.loading&&u&&c(Object(b.a)(Object(b.a)({},a),{},{questions:a.questions.concat(u.questions),loading:!1,end:u.questions.length<5})),l&&(console.log("ERROR"),console.log(l)),!a.questions||!a.questions.length)return s.a.createElement("div",null,"Loading");var p=[];a.questions.map(function(e,t){t===a.questions.length-2&&p.push(s.a.createElement("div",{className:"dumb",ref:o})),p.push(s.a.createElement(Q,{q:e,key:t}))});var h=s.a.createElement("div",null,"end of questions");return s.a.createElement("div",null,p,h)},R=(n(94),Object(k.a)(c||(c=Object(h.a)(["\nquery TestQuery {\n  __typename\n  questions(limit: 5, offset: 0) {\n    ...on IQuestion{\n      title,\n      body,\n      answer\n    },\n    ...on SelectQuestion{\n      options {\n        key,\n        value,\n        correct\n      }\n    },\n    ...on MultiSelectQuestion {\n      options {\n        key,\n        value,\n        correct\n      }\n    }\n  }\n}\n"])))),P=function(){var e=Object(f.a)(R,{fetchPolicy:"no-cache"}),t=e.loading,n=(e.error,e.data);e.refetch;return t?s.a.createElement("p",null," loading.. "):s.a.createElement("div",{className:"HomePage"},s.a.createElement(m.a,{fluid:!0},s.a.createElement(d.a,null,s.a.createElement(v.a,{style:{background:"grey",height:"100vh"},sm:3}),s.a.createElement(v.a,null,s.a.createElement(d.a,{className:"fixed_header",style:{background:"darkgrey",height:"10vh"}},s.a.createElement("div",null)),s.a.createElement(d.a,{className:"infinite_scroll main",style:{background:"#fff",height:"100vh"}},s.a.createElement(L,{qs:n.questions}))))))};n(95);var B=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(P,null))},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,122)).then(function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)})},F=new l.a({uri:"http://localhost:3000/graphql",cache:new u.a,defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}}});i.a.render(s.a.createElement(p.a,{client:F},s.a.createElement(B,null)),document.getElementById("root")),T()}},[[78,1,2]]]);
//# sourceMappingURL=main.462fd126.chunk.js.map